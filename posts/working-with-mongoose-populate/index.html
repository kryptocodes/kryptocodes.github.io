<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Srivatsan Thumati Balaji">
    <meta name="description" content="personal website">
    <meta name="keywords" content="blog,developer,personal">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Working with Mongoose populate"/>
<meta name="twitter:description" content="One caveat before I start: there is great official documentation for populate, from which I have taken quite a bit of information. If I say something that contradicts what the documentation says, assume the documentation is right.
What is Mongoose ? Mongoose is a elegant MongoDB object modeling for node.js.It manages relationships between data,provides schema validation, and is used to translate between objects in code and the representation of those objects in MongoDB"/>

    <meta property="og:title" content="Working with Mongoose populate" />
<meta property="og:description" content="One caveat before I start: there is great official documentation for populate, from which I have taken quite a bit of information. If I say something that contradicts what the documentation says, assume the documentation is right.
What is Mongoose ? Mongoose is a elegant MongoDB object modeling for node.js.It manages relationships between data,provides schema validation, and is used to translate between objects in code and the representation of those objects in MongoDB" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://kryptocodes.github.io/posts/working-with-mongoose-populate/" />
<meta property="article:published_time" content="2020-04-18T19:57:28+05:30" />
<meta property="article:modified_time" content="2020-04-18T19:57:28+05:30" />


    
      <base href="https://kryptocodes.github.io/posts/working-with-mongoose-populate/">
    
    <title>
  Working with Mongoose populate Â· Srivatsan
</title>

    
      <link rel="canonical" href="https://kryptocodes.github.io/posts/working-with-mongoose-populate/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://kryptocodes.github.io/css/coder.min.71ef1afd2d8588ee19fc8f0058cf6408c7cff775a8b409b47df54091d0ef87b5.css" integrity="sha256-ce8a/S2FiO4Z/I8AWM9kCMfP93WotAm0ffVAkdDvh7U=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="https://kryptocodes.github.io/css/coder-inverted.min.b275a7d098cfe39135a5644e9c6d811e77fc4bdeac01e8e339c7d767146340a8.css" integrity="sha256-snWn0JjP45E1pWROnG2BHnf8S96sAejjOcfXZxRjQKg=" crossorigin="anonymous" media="screen" />
      
    

    

    
    
    <link rel="icon" type="image/png" href="https://kryptocodes.github.io/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://kryptocodes.github.io/images/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.59.0" />
  </head>

  <body class=" inverted">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://kryptocodes.github.io/">
      Srivatsan
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://kryptocodes.github.io/about/">About</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://kryptocodes.github.io/posts/">Blog</a>
          </li>
        
      
      
    </ul>
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Working with Mongoose populate</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2020-04-18T19:57:28&#43;05:30'>
                April 18, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              3 minutes read
            </span>
          </div>
          
          
        </div>
      </header>

      <div>
        

<p>One caveat before I start: there is <a href="https://mongoosejs.com/docs/populate.html">great official documentation</a> for populate, from which I have taken quite a bit of information. If I say something that contradicts what the documentation says, assume the documentation is right.</p>

<h1 id="what-is-mongoose">What is Mongoose ?</h1>

<p>Mongoose is a elegant MongoDB object modeling for node.js.It manages relationships between data,provides schema validation, and is used to translate between objects in code and the representation of those objects in MongoDB</p>

<p><img src="https://i.pinimg.com/474x/34/3c/a7/343ca7d9efc72ddca52c1dfaeb89a28a--so-cute-wild-animals.jpg" alt="mongoose" /></p>

<blockquote>
<p>Oh Hi Hoomans</p>
</blockquote>

<h3 id="so-what-is-mongodb">So What is MongoDB??</h3>

<p>MongoDB is an Open Source,NoSQL document database. It means you can store JSON documents in it, and the structure of these documents can vary as it is not enforced like SQL databases. This is one of the advantages of using NoSQL as it speeds up application development and reduces the complexity of deployments.</p>

<p><img src="https://kryptocodes.github.io/images/mongo/mongo.png" alt="mongo" /></p>

<blockquote>
<p>an example of how data is stored in Mongo vs SQL Database</p>
</blockquote>

<h2 id="mongoose-concepts">Mongoose Concepts</h2>

<p>Mongoose uses schemas to model the data an application wishes to store and manipulate in MongoDB. This includes features such as type casting, validation, query building, and more.
The schema describes the attributes of the properties (aka fields) the application will manipulate.</p>

<h1 id="alright-seems-cool-but-what-is-the-use-of-populate">Alright seems cool but what is the use of populate?</h1>

<blockquote>
<p>Populate() function populate</p>
</blockquote>

<p>Model.populate(), a Mongoose method that you can use to essentially link documents across collections. This allows you to have a schema for each of them, and generally keep things all nice and tidy.</p>

<p>let&rsquo;s consider a example pokedox that sounds familiar right</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Javascript" data-lang="Javascript">pokedox.findOne({ id: <span style="color:#ff0;font-weight:bold">6</span> })
</code></pre></div>
<p>will return a pokemon of that id</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Javascript" data-lang="Javascript"> {
    <span style="color:#0ff;font-weight:bold">&#34;id&#34;</span>: <span style="color:#ff0;font-weight:bold">6</span>,
    <span style="color:#0ff;font-weight:bold">&#34;pokemon&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;Charizard&#34;</span>,
    <span style="color:#0ff;font-weight:bold">&#34;type&#34;</span>: [
        <span style="color:#0ff;font-weight:bold">&#34;Fire&#34;</span>,
        <span style="color:#0ff;font-weight:bold">&#34;Flying&#34;</span>
    ],
    <span style="color:#0ff;font-weight:bold">&#34;weaknesses&#34;</span>: [
      <span style="color:#0ff;font-weight:bold">&#34;Water&#34;</span>,
      <span style="color:#0ff;font-weight:bold">&#34;Electric&#34;</span>,
      <span style="color:#0ff;font-weight:bold">&#34;Rock&#34;</span>
    ]
 }
</code></pre></div>
<p>In some case, those kind of request would be enough, because we don&rsquo;t care about the weakness or the type so,having some ID won&rsquo;t bother us much.</p>

<p>But in the case where i need that base like HP and Attack, i&rsquo;ll need to make another request to find it in database. Except, that here in mongoose we have a clever function called populate() that we can chained to our previous request in order to directly get that information in our answer without explictly doing an additional request.</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Javascript" data-lang="Javascript">pokedox.findOne({ id: <span style="color:#ff0;font-weight:bold">6</span> }).populate(<span style="color:#0ff;font-weight:bold">&#39;pokemon&#39;</span>)
</code></pre></div><div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Javascript" data-lang="Javascript">{
    <span style="color:#0ff;font-weight:bold">&#34;id&#34;</span>: <span style="color:#ff0;font-weight:bold">6</span>,
    <span style="color:#0ff;font-weight:bold">&#34;pokemon&#34;</span>: {
        <span style="color:#0ff;font-weight:bold">&#34;Name&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;Charizard&#34;</span>,
        <span style="color:#0ff;font-weight:bold">&#34;HP&#34;</span>: <span style="color:#ff0;font-weight:bold">78</span>,
        <span style="color:#0ff;font-weight:bold">&#34;Attack&#34;</span>: <span style="color:#ff0;font-weight:bold">84</span>,
        <span style="color:#0ff;font-weight:bold">&#34;Defense&#34;</span>: <span style="color:#ff0;font-weight:bold">78</span>,
        <span style="color:#0ff;font-weight:bold">&#34;Sp. Attack&#34;</span>: <span style="color:#ff0;font-weight:bold">109</span>,
        <span style="color:#0ff;font-weight:bold">&#34;Sp. Defense&#34;</span>: <span style="color:#ff0;font-weight:bold">85</span>,
        <span style="color:#0ff;font-weight:bold">&#34;Speed&#34;</span>: <span style="color:#ff0;font-weight:bold">100</span>,
        <span style="color:#0ff;font-weight:bold">&#34;height&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;1.70 m&#34;</span>,
        <span style="color:#0ff;font-weight:bold">&#34;weight&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;90.5 kg&#34;</span>,
        <span style="color:#0ff;font-weight:bold">&#34;candy&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;Charmander Candy&#34;</span>,
        <span style="color:#0ff;font-weight:bold">&#34;egg&#34;</span>: <span style="color:#0ff;font-weight:bold">&#34;Not in Eggs&#34;</span>
    },
    <span style="color:#0ff;font-weight:bold">&#34;type&#34;</span>: [
        <span style="color:#0ff;font-weight:bold">&#34;Fire&#34;</span>,
        <span style="color:#0ff;font-weight:bold">&#34;Flying&#34;</span>
    ]
 }
</code></pre></div>
<p><img src="https://kryptocodes.github.io/images/mongo/charmander_candy.jpg" alt="charmander_candy" /></p>

<p>But maybe, that&rsquo;s too much information, and we don&rsquo;t need unnecessary data like candy or egg.Only the Pokemon&rsquo;s HP and Attack are enough. Populate can then take another argument containing the field that we need</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Javascript" data-lang="Javascript">pokedox.findOne({ id: <span style="color:#ff0;font-weight:bold">6</span> }).populate(<span style="color:#0ff;font-weight:bold">&#39;pokemon&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;Name HP Attack Defense&#39;</span>)
</code></pre></div>
<p><code>Result</code></p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Javascript" data-lang="Javascript">{
    <span style="color:#0ff;font-weight:bold">&#34;id&#34;</span>: <span style="color:#ff0;font-weight:bold">6</span>,
    <span style="color:#0ff;font-weight:bold">&#34;pokemon&#34;</span>: {
        <span style="color:#0ff;font-weight:bold">&#34;Name&#34;</span>:<span style="color:#0ff;font-weight:bold">&#34;Charizard&#34;</span>,
        <span style="color:#0ff;font-weight:bold">&#34;HP&#34;</span>: <span style="color:#ff0;font-weight:bold">78</span>,
        <span style="color:#0ff;font-weight:bold">&#34;Attack&#34;</span>: <span style="color:#ff0;font-weight:bold">84</span>,
        <span style="color:#0ff;font-weight:bold">&#34;Defense&#34;</span>: <span style="color:#ff0;font-weight:bold">78</span>
    },
    <span style="color:#0ff;font-weight:bold">&#34;type&#34;</span>: [
        <span style="color:#0ff;font-weight:bold">&#34;Fire&#34;</span>,
        <span style="color:#0ff;font-weight:bold">&#34;Flying&#34;</span>
    ]
}
</code></pre></div>
<blockquote>
<p><strong>TL;DR</strong> Populate will automatically replace the specified path in the document, with document(s) from other collection(s)</p>
</blockquote>

<p><img src="https://nationalzoo.si.edu/sites/default/files/animals/dwarf-mongoose_dsc00079.jpg" alt="mongoose_2" /></p>

<blockquote>
<p>I&rsquo;m cool right?</p>
</blockquote>

<p>Hopefully this information was helpful in some way! If you have any questions or comments, post it right here in the comment box or please feel free to reach out to me on <a href="https://t.me/kryptocodes">telegram</a></p>

      </div>

      <footer>
        


        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "kryptocodes" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    
    
    
    
  </section>
</footer>

    </main>

    

  </body>

</html>
