{"componentChunkName":"component---src-components-templates-blog-post-js","path":"/mongoose_populate/","result":{"data":{"markdownRemark":{"html":"<p>One caveat before I start: there is <a href=\"https://mongoosejs.com/docs/populate.html\">great official documentation</a> for populate, from which I have taken quite a bit of information. If I say something that contradicts what the documentation says, assume the documentation is right.</p>\n<h1>What is Mongoose ?</h1>\n<p>Mongoose is a elegant MongoDB object modeling for node.js.It manages relationships between data,provides schema validation, and is used to translate between objects in code and the representation of those objects in MongoDB</p>\n<p><img src=\"https://i.pinimg.com/474x/34/3c/a7/343ca7d9efc72ddca52c1dfaeb89a28a--so-cute-wild-animals.jpg\" alt=\"mongoose\"></p>\n<blockquote>\n<p>Oh Hi Hoomans</p>\n</blockquote>\n<h3>So What is MongoDB??</h3>\n<p>MongoDB is an Open Source,NoSQL document database. It means you can store JSON documents in it, and the structure of these documents can vary as it is not enforced like SQL databases. This is one of the advantages of using NoSQL as it speeds up application development and reduces the complexity of deployments.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0c3c8f6210fba758bc54e33f8e7cc54c/3f20e/mongo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.86486486486486%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC7klEQVQ4y21T60tTcRje/xBBeAnTLl4w1KCLzbvm8jrzgygIEX0T8p63vORtps45kRRBCGJlOqebc+3MbZ5R5gX6EhRGWkYZkYo1wtCIp/c9m9qHPjz8zvmd83ve53ne3yuTt1oR0yogutmKyy1WaY1vtyFB5QE/J9+bQQqB/5MTYttsSFQd/rOPuHYBshztLG4MP0PhkAt590XkD7oQUT+F07cnEVJtQkCZAelqJzI1TuQPOFHyaA6x7WYEVejpuwGh1RMIq5nAqcpxqagsuUtAZNsI5Go9UjQmpPYRGf0YWD6Jk5WT8C3W40qnHYpuB4IbLYjVOBDaaKNvLgSUizhWbIdPiRNHigRSaIMsnqQGlk8guMqIE7Sea5iWVgYT+pWMS4QZajtuDl1H7WMlqh7modtYAI0lHzW6PNTqclGuK6SiFsjYe1iNSZLLeXpyfEo5CQivnZIUphChkpy8/jCI3e8qrL1rxY57ANjrx8eVZuxsa7H1YxjZvTYPIatI7phBXr8LqXSYCbkAq/Ytpmw6Z6DstmFu2Y2V1Q28Wv6Kn7vAl40/WHi5im+be1jbAmU9e0gYWW9GTu8sFF12SZ2clLJyf6/ltA4rwusciFO9QLpmCVfVC8jqXSKbi4hufY7zTQLdBq9CVsLZcdsvkTq2HUP2I+6YKUsDKXQgU2VC6QMlOgwJ0JgU6DEq0D+tgNasgNoUR8QtdFb0NOUMEaZRF/fVJXXw/RO8lr0Z9sxgbV3A7uYTbHwapfxcABbwa9sIuA1oNFgQ1SAcWub1mlaUyC55mxJSbTy4Nlm9IobFdRjn1qCzv4X4xo35979hnF+HeeEzCgYWcfGuxaOQCc/WTSG3T0Q6KeWG8CTwHmfICln90aIRHC/Tw69UT4VG4XNrlM6OwV96HwNzybg6W2Z7F5osB2CVUfXT0l3kScmmhnGeodQoVu6B55n3giompMKyJLouiYT9WfwXPMdsPaPHKYH3Ev4zw9LME5jwL7NTnMCzErjtAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"mongo\"\n        title=\"mongo\"\n        src=\"/static/0c3c8f6210fba758bc54e33f8e7cc54c/fcda8/mongo.png\"\n        srcset=\"/static/0c3c8f6210fba758bc54e33f8e7cc54c/12f09/mongo.png 148w,\n/static/0c3c8f6210fba758bc54e33f8e7cc54c/e4a3f/mongo.png 295w,\n/static/0c3c8f6210fba758bc54e33f8e7cc54c/fcda8/mongo.png 590w,\n/static/0c3c8f6210fba758bc54e33f8e7cc54c/efc66/mongo.png 885w,\n/static/0c3c8f6210fba758bc54e33f8e7cc54c/c83ae/mongo.png 1180w,\n/static/0c3c8f6210fba758bc54e33f8e7cc54c/3f20e/mongo.png 1275w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<blockquote>\n<p> an example of how data is stored in Mongo vs SQL Database</p>\n</blockquote>\n<h2>Mongoose Concepts</h2>\n<p>Mongoose uses schemas to model the data an application wishes to store and manipulate in MongoDB. This includes features such as type casting, validation, query building, and more.\nThe schema describes the attributes of the properties (aka fields) the application will manipulate.</p>\n<h1>Alright seems cool but what is the use of populate?</h1>\n<blockquote>\n<p>Populate() function populate</p>\n</blockquote>\n<p>Model.populate(), a Mongoose method that you can use to essentially link documents across collections. This allows you to have a schema for each of them, and generally keep things all nice and tidy.</p>\n<p>let's consider a example pokedex that sounds familiar right</p>\n<pre><code class=\"language-Javascript\">pokedex.findOne({ id: 6 })\n</code></pre>\n<p>will return a pokemon of that id</p>\n<pre><code class=\"language-Javascript\"> {\n    \"id\": 6,\n    \"pokemon\": \"Charizard\",\n    \"type\": [\n        \"Fire\",\n        \"Flying\"\n    ],\n    \"weaknesses\": [\n      \"Water\",\n      \"Electric\",\n      \"Rock\"\n    ]\n }\n</code></pre>\n<p>In some case, those kind of request would be enough, because we don't care about the weakness or the type so,having some ID won't bother us much.</p>\n<p>But in the case where i need that base like HP and Attack, i'll need to make another request to find it in database. Except, that here in mongoose we have a clever function called populate() that we can chained to our previous request in order to directly get that information in our answer without explictly doing an additional request.</p>\n<pre><code class=\"language-Javascript\">pokedex.findOne({ id: 6 }).populate('pokemon')\n</code></pre>\n<pre><code class=\"language-Javascript\">{\n    \"id\": 6,\n    \"pokemon\": {\n        \"Name\":\"Charizard\",\n        \"HP\": 78,\n        \"Attack\": 84,\n        \"Defense\": 78,\n        \"Sp. Attack\": 109,\n        \"Sp. Defense\": 85,\n        \"Speed\": 100,\n        \"height\": \"1.70 m\",\n        \"weight\": \"90.5 kg\",\n        \"candy\": \"Charmander Candy\",\n        \"egg\": \"Not in Eggs\"\n    },\n    \"type\": [\n        \"Fire\",\n        \"Flying\"\n    ],\n    \"weaknesses\": [\n      \"Water\",\n      \"Electric\",\n      \"Rock\"\n    ]\n }\n</code></pre>\n<p> <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 500px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/621f8c51c0f5b16879967a4fdadd4e0b/41099/charmander_candy.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 122.97297297297298%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAZABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAUBAgQD/8QAFgEBAQEAAAAAAAAAAAAAAAAAAgMB/9oADAMBAAIQAxAAAAF1GQlRgcxiMjExULiH/8QAHBAAAgMAAwEAAAAAAAAAAAAAAQIAAxEQEjEy/9oACAEBAAEFAmKzFz2Xfdb4FlidlRGEUYOf/8QAGREBAAIDAAAAAAAAAAAAAAAAARARAhIh/9oACAEDAQE/AdOXBmhUf//EABoRAQACAwEAAAAAAAAAAAAAAAEAEQIQEiH/2gAIAQIBAT8B79qDZHAdf//EABwQAAMAAQUAAAAAAAAAAAAAAAABESECEBIgcf/aAAgBAQAGPwLJdrTg0P0clM6ev//EAB0QAQADAAEFAAAAAAAAAAAAAAEAETEhEEFxgbH/2gAIAQEAAT8huBf1PG7BBZkOHI7D9lBsalIDQB83UXLLGycc7rDOv//aAAwDAQACAAMAAAAQ1yU//8QAFxEBAQEBAAAAAAAAAAAAAAAAAREAEP/aAAgBAwEBPxC0DIDzBa13/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/EB7UwLO7ABhf/8QAHRABAAICAwEBAAAAAAAAAAAAAREhAEEQMWFRcf/aAAgBAQABPxCcSS40xB3Y2GcMLK2ZTnpWxAQM6QGppXR+4JFmRFVowCcAKynuAaZdInX2cSUFsnrwb4//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"charmander_candy\"\n        title=\"charmander_candy\"\n        src=\"/static/621f8c51c0f5b16879967a4fdadd4e0b/41099/charmander_candy.jpg\"\n        srcset=\"/static/621f8c51c0f5b16879967a4fdadd4e0b/a80bd/charmander_candy.jpg 148w,\n/static/621f8c51c0f5b16879967a4fdadd4e0b/1c91a/charmander_candy.jpg 295w,\n/static/621f8c51c0f5b16879967a4fdadd4e0b/41099/charmander_candy.jpg 500w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p> But maybe, that's too much information, and we don't need unnecessary data like candy or egg.Only the Pokemon's HP and Attack are enough. Populate can then take another argument containing the field that we need</p>\n<pre><code class=\"language-Javascript\">pokedex.findOne({ id: 6 }).populate('pokemon', 'Name HP Attack Defense')\n</code></pre>\n<p><code>Result</code></p>\n<pre><code class=\"language-Javascript\">{\n    \"id\": 6,\n    \"pokemon\": {\n        \"Name\":\"Charizard\",\n        \"HP\": 78,\n        \"Attack\": 84,\n        \"Defense\": 78\n    },\n    \"type\": [\n        \"Fire\",\n        \"Flying\"\n    ],\n    \"weaknesses\": [\n      \"Water\",\n      \"Electric\",\n      \"Rock\"\n    ]\n}\n</code></pre>\n<blockquote>\n<p><strong>TL;DR</strong> Populate will automatically replace the specified path in the document, with document(s) from other collection(s)</p>\n</blockquote>\n<p><img src=\"https://nationalzoo.si.edu/sites/default/files/animals/dwarf-mongoose_dsc00079.jpg\" alt=\"mongoose_2\"></p>\n<blockquote>\n<p>I'm cool right?</p>\n</blockquote>\n<p>Hopefully this information was helpful in some way! If you have any questions or comments, post it right here in the comment box or please feel free to reach out to me on <a href=\"https://t.me/kryptocodes\">telegram</a></p>","frontmatter":{"title":"Working with Mongoose populate","date":"18 April, 2020"}}},"pageContext":{"slug":"/mongoose_populate/"}},"staticQueryHashes":[]}